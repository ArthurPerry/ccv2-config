"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=740,exports.ids=[740],exports.modules={6740:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{OrganizationUserRegistrationModule:()=>OrganizationUserRegistrationModule});var core=__webpack_require__(5e3),router=__webpack_require__(9516),common=__webpack_require__(9808),fesm2015_forms=__webpack_require__(3075),ng_select_ng_select=__webpack_require__(2327),spartacus_core=__webpack_require__(4029),spartacus_storefront=__webpack_require__(312),of=__webpack_require__(1086),BehaviorSubject=__webpack_require__(591),Subscription=__webpack_require__(2654),tap=__webpack_require__(2994),filter=__webpack_require__(2198),switchMap=__webpack_require__(7545),take=__webpack_require__(2986),spartacus_user_profile_root=__webpack_require__(6309),spartacus_organization_user_registration_root=__webpack_require__(6518);const _c0=__name(function(a0){return{ariaLabel:a0}},"_c0");function UserRegistrationFormComponent_section_0_ng_container_33_label_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"label")(1,"span",4),core._uU(2),core.ALo(3,"cxTranslate"),core.qZA(),core._UZ(4,"ng-select",23),core.ALo(5,"cxTranslate"),core.ALo(6,"cxTranslate"),core._UZ(7,"cx-form-errors",8),core.qZA()),2&rf){const countries_r5=core.oxw().ngIf,ctx_r6=core.oxw(2);core.xp6(2),core.Oqu(core.lcZ(3,7,"userRegistrationForm.fields.country.label")),core.xp6(2),core.s9C("placeholder",core.lcZ(5,9,"userRegistrationForm.fields.country.placeholder")),core.Q6J("searchable",!0)("clearable",!1)("items",countries_r5)("cxNgSelectA11y",core.VKq(13,_c0,core.lcZ(6,11,"userRegistrationForm.fields.country.label"))),core.xp6(3),core.Q6J("control",ctx_r6.registerForm.get("country.isocode"))}}function UserRegistrationFormComponent_section_0_ng_container_33_Template(rf,ctx){if(1&rf&&(core.ynx(0,21),core.YNc(1,UserRegistrationFormComponent_section_0_ng_container_33_label_1_Template,8,15,"label",22),core.BQk()),2&rf){const countries_r5=ctx.ngIf;core.xp6(1),core.Q6J("ngIf",0!==countries_r5.length)}}function UserRegistrationFormComponent_section_0_ng_container_63_label_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"label")(1,"span",4),core._uU(2),core.ALo(3,"cxTranslate"),core.qZA(),core._UZ(4,"ng-select",25),core.ALo(5,"cxTranslate"),core.ALo(6,"cxTranslate"),core._UZ(7,"cx-form-errors",8),core.qZA()),2&rf){const regions_r8=core.oxw().ngIf,ctx_r9=core.oxw(2);core.xp6(2),core.Oqu(core.lcZ(3,7,"userRegistrationForm.fields.state.label")),core.xp6(2),core.s9C("placeholder",core.lcZ(5,9,"userRegistrationForm.fields.state.placeholder")),core.Q6J("searchable",!0)("clearable",!1)("items",regions_r8)("cxNgSelectA11y",core.VKq(13,_c0,core.lcZ(6,11,"userRegistrationForm.fields.state.label"))),core.xp6(3),core.Q6J("control",ctx_r9.registerForm.get("region.isocode"))}}function UserRegistrationFormComponent_section_0_ng_container_63_Template(rf,ctx){if(1&rf&&(core.ynx(0,24),core.YNc(1,UserRegistrationFormComponent_section_0_ng_container_63_label_1_Template,8,15,"label",22),core.BQk()),2&rf){const regions_r8=ctx.ngIf;core.xp6(1),core.Q6J("ngIf",0!==regions_r8.length)}}__name(UserRegistrationFormComponent_section_0_ng_container_33_label_1_Template,"UserRegistrationFormComponent_section_0_ng_container_33_label_1_Template"),__name(UserRegistrationFormComponent_section_0_ng_container_33_Template,"UserRegistrationFormComponent_section_0_ng_container_33_Template"),__name(UserRegistrationFormComponent_section_0_ng_container_63_label_1_Template,"UserRegistrationFormComponent_section_0_ng_container_63_label_1_Template"),__name(UserRegistrationFormComponent_section_0_ng_container_63_Template,"UserRegistrationFormComponent_section_0_ng_container_63_Template");const _c1=__name(function(){return{cxRoute:"login"}},"_c1");function UserRegistrationFormComponent_section_0_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.TgZ(0,"section"),core._UZ(1,"div",2),core.ALo(2,"cxTranslate"),core.TgZ(3,"form",3),core.NdJ("ngSubmit",__name(function(){core.CHM(_r12);const ctx_r11=core.oxw();return core.KtG(ctx_r11.submit())},"UserRegistrationFormComponent_section_0_Template_form_ngSubmit_3_listener")),core.TgZ(4,"label")(5,"span",4),core._uU(6),core.ALo(7,"cxTranslate"),core.qZA(),core._UZ(8,"ng-select",5),core.ALo(9,"async"),core.ALo(10,"cxTranslate"),core.ALo(11,"cxTranslate"),core.qZA(),core.TgZ(12,"label")(13,"span",6),core._uU(14),core.ALo(15,"cxTranslate"),core.qZA(),core._UZ(16,"input",7),core.ALo(17,"cxTranslate"),core._UZ(18,"cx-form-errors",8),core.qZA(),core.TgZ(19,"label")(20,"span",6),core._uU(21),core.ALo(22,"cxTranslate"),core.qZA(),core._UZ(23,"input",9),core.ALo(24,"cxTranslate"),core._UZ(25,"cx-form-errors",8),core.qZA(),core.TgZ(26,"label")(27,"span",6),core._uU(28),core.ALo(29,"cxTranslate"),core.qZA(),core._UZ(30,"input",10),core.ALo(31,"cxTranslate"),core._UZ(32,"cx-form-errors",8),core.qZA(),core.YNc(33,UserRegistrationFormComponent_section_0_ng_container_33_Template,2,1,"ng-container",11),core.ALo(34,"async"),core.TgZ(35,"label")(36,"span",4),core._uU(37),core.ALo(38,"cxTranslate"),core.qZA(),core._UZ(39,"input",12),core.ALo(40,"cxTranslate"),core._UZ(41,"cx-form-errors",8),core.qZA(),core.TgZ(42,"label")(43,"span",4),core._uU(44),core.ALo(45,"cxTranslate"),core.qZA(),core._UZ(46,"input",13),core.ALo(47,"cxTranslate"),core._UZ(48,"cx-form-errors",8),core.qZA(),core.TgZ(49,"label")(50,"span",4),core._uU(51),core.ALo(52,"cxTranslate"),core.qZA(),core._UZ(53,"input",14),core.ALo(54,"cxTranslate"),core._UZ(55,"cx-form-errors",8),core.qZA(),core.TgZ(56,"label")(57,"span",4),core._uU(58),core.ALo(59,"cxTranslate"),core.qZA(),core._UZ(60,"input",15),core.ALo(61,"cxTranslate"),core._UZ(62,"cx-form-errors",8),core.qZA(),core.YNc(63,UserRegistrationFormComponent_section_0_ng_container_63_Template,2,1,"ng-container",16),core.ALo(64,"async"),core.TgZ(65,"label")(66,"span",4),core._uU(67),core.ALo(68,"cxTranslate"),core.qZA(),core._UZ(69,"input",17),core.ALo(70,"cxTranslate"),core._UZ(71,"cx-form-errors",8),core.qZA(),core.TgZ(72,"label")(73,"span",4),core._uU(74),core.ALo(75,"cxTranslate"),core.qZA(),core._UZ(76,"textarea",18),core.ALo(77,"cxTranslate"),core._UZ(78,"cx-form-errors",8),core.qZA(),core.TgZ(79,"button",19),core._uU(80),core.ALo(81,"cxTranslate"),core.qZA(),core.TgZ(82,"a",20),core.ALo(83,"cxUrl"),core._uU(84),core.ALo(85,"cxTranslate"),core.qZA()()()}if(2&rf){const ctx_r0=core.oxw();core.xp6(1),core.uIk("aria-label",core.lcZ(2,40,"common.loaded")),core.xp6(2),core.Q6J("formGroup",ctx_r0.registerForm),core.xp6(3),core.Oqu(core.lcZ(7,42,"userRegistrationForm.fields.titleCode.label")),core.xp6(2),core.s9C("placeholder",core.lcZ(10,46,"userRegistrationForm.fields.titleCode.placeholder")),core.Q6J("searchable",!1)("clearable",!1)("items",core.lcZ(9,44,ctx_r0.titles$))("cxNgSelectA11y",core.VKq(96,_c0,core.lcZ(11,48,"userRegistrationForm.fields.titleCode.label"))),core.xp6(6),core.Oqu(core.lcZ(15,50,"userRegistrationForm.fields.firstName.label")),core.xp6(2),core.s9C("placeholder",core.lcZ(17,52,"userRegistrationForm.fields.firstName.placeholder")),core.xp6(2),core.Q6J("control",ctx_r0.registerForm.get("firstName")),core.xp6(3),core.Oqu(core.lcZ(22,54,"userRegistrationForm.fields.lastName.label")),core.xp6(2),core.s9C("placeholder",core.lcZ(24,56,"userRegistrationForm.fields.lastName.placeholder")),core.xp6(2),core.Q6J("control",ctx_r0.registerForm.get("lastName")),core.xp6(3),core.Oqu(core.lcZ(29,58,"userRegistrationForm.fields.email.label")),core.xp6(2),core.s9C("placeholder",core.lcZ(31,60,"userRegistrationForm.fields.email.placeholder")),core.xp6(2),core.Q6J("control",ctx_r0.registerForm.get("email")),core.xp6(1),core.Q6J("ngIf",core.lcZ(34,62,ctx_r0.countries$)),core.xp6(4),core.Oqu(core.lcZ(38,64,"userRegistrationForm.fields.addressLine.label")),core.xp6(2),core.s9C("placeholder",core.lcZ(40,66,"userRegistrationForm.fields.addressLine.placeholder")),core.xp6(2),core.Q6J("control",ctx_r0.registerForm.get("line1")),core.xp6(3),core.Oqu(core.lcZ(45,68,"userRegistrationForm.fields.secondAddressLine.label")),core.xp6(2),core.s9C("placeholder",core.lcZ(47,70,"userRegistrationForm.fields.secondAddressLine.placeholder")),core.xp6(2),core.Q6J("control",ctx_r0.registerForm.get("line2")),core.xp6(3),core.Oqu(core.lcZ(52,72,"userRegistrationForm.fields.city.label")),core.xp6(2),core.s9C("placeholder",core.lcZ(54,74,"userRegistrationForm.fields.city.label")),core.xp6(2),core.Q6J("control",ctx_r0.registerForm.get("town")),core.xp6(3),core.Oqu(core.lcZ(59,76,"userRegistrationForm.fields.postalCode.label")),core.xp6(2),core.s9C("placeholder",core.lcZ(61,78,"userRegistrationForm.fields.postalCode.placeholder")),core.xp6(2),core.Q6J("control",ctx_r0.registerForm.get("postalCode")),core.xp6(1),core.Q6J("ngIf",core.lcZ(64,80,ctx_r0.regions$)),core.xp6(4),core.Oqu(core.lcZ(68,82,"userRegistrationForm.fields.phoneNumber.label")),core.xp6(2),core.s9C("placeholder",core.lcZ(70,84,"userRegistrationForm.fields.phoneNumber.placeholder")),core.xp6(2),core.Q6J("control",ctx_r0.registerForm.get("phoneNumber")),core.xp6(3),core.Oqu(core.lcZ(75,86,"userRegistrationForm.fields.message.label")),core.xp6(2),core.s9C("placeholder",core.lcZ(77,88,"userRegistrationForm.fields.message.placeholder")),core.xp6(2),core.Q6J("control",ctx_r0.registerForm.get("message")),core.xp6(2),core.hij(" ",core.lcZ(81,90,"userRegistrationForm.formSubmitButtonLabel")," "),core.xp6(2),core.Q6J("routerLink",core.lcZ(83,92,core.DdM(98,_c1))),core.xp6(2),core.Oqu(core.lcZ(85,94,"userRegistrationForm.goToLoginButtonLabel"))}}function UserRegistrationFormComponent_ng_template_2_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",26),core._UZ(1,"cx-spinner"),core.qZA())}__name(UserRegistrationFormComponent_section_0_Template,"UserRegistrationFormComponent_section_0_Template"),__name(UserRegistrationFormComponent_ng_template_2_Template,"UserRegistrationFormComponent_ng_template_2_Template");class UserRegistrationFormService{constructor(userRegisterFacade,userAddressService,organizationUserRegistrationFacade,translationService,globalMessageService,authConfigService,routingService,formBuilder){this.userRegisterFacade=userRegisterFacade,this.userAddressService=userAddressService,this.organizationUserRegistrationFacade=organizationUserRegistrationFacade,this.translationService=translationService,this.globalMessageService=globalMessageService,this.authConfigService=authConfigService,this.routingService=routingService,this.formBuilder=formBuilder,this._form=this.buildForm()}buildForm(){return this.formBuilder.group({titleCode:[null],firstName:["",fesm2015_forms.kI.required],lastName:["",fesm2015_forms.kI.required],email:["",[fesm2015_forms.kI.required,spartacus_storefront.kal.emailValidator]],country:this.formBuilder.group({isocode:[null]}),line1:[""],line2:[""],town:[""],region:this.formBuilder.group({isocode:[null]}),postalCode:[""],phoneNumber:[""],message:[""]})}get form(){return this._form}get countryControl(){return this.form.get("country.isocode")}get regionControl(){return this.form.get("region.isocode")}getTitles(){return this.userRegisterFacade.getTitles()}getCountries(){return this.userAddressService.getDeliveryCountries().pipe((0,tap.b)(countries=>{0===Object.keys(countries).length&&this.userAddressService.loadDeliveryCountries()}))}getRegions(){var _a,_b;return null!==(_b=null===(_a=this.countryControl)||void 0===_a?void 0:_a.valueChanges.pipe((0,filter.h)(countryIsoCode=>!!countryIsoCode),(0,switchMap.w)(countryIsoCode=>{var _a2;return null===(_a2=this.regionControl)||void 0===_a2||_a2.reset(),this.userAddressService.getRegions(countryIsoCode)})))&&void 0!==_b?_b:(0,of.of)([])}buildMessageContent(form){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k;return this.translationService.translate("userRegistrationForm.messageToApproverTemplate",{phoneNumber:null===(_a=form.get("phoneNumber"))||void 0===_a?void 0:_a.value,addressLine:null===(_b=form.get("line1"))||void 0===_b?void 0:_b.value,secondAddressLine:null===(_c=form.get("line2"))||void 0===_c?void 0:_c.value,city:null===(_d=form.get("city"))||void 0===_d?void 0:_d.value,state:null===(_f=null===(_e=form.get("region"))||void 0===_e?void 0:_e.get("isocode"))||void 0===_f?void 0:_f.value,postalCode:null===(_g=form.get("postalCode"))||void 0===_g?void 0:_g.value,country:null===(_j=null===(_h=form.get("country"))||void 0===_h?void 0:_h.get("isocode"))||void 0===_j?void 0:_j.value,message:null===(_k=form.get("message"))||void 0===_k?void 0:_k.value})}displayGlobalMessage(){return this.globalMessageService.add({key:"userRegistrationForm.successFormSubmitMessage"},spartacus_core.xUg.MSG_TYPE_CONFIRMATION)}redirectToLogin(){this.authConfigService.getOAuthFlow()===spartacus_core.C8C.ResourceOwnerPasswordFlow&&this.routingService.go({cxRoute:"login"})}registerUser(form){return this.buildMessageContent(form).pipe((0,take.q)(1),(0,switchMap.w)(message=>{var _a,_b,_c,_d;return this.organizationUserRegistrationFacade.registerUser({titleCode:null===(_a=form.get("titleCode"))||void 0===_a?void 0:_a.value,firstName:null===(_b=form.get("firstName"))||void 0===_b?void 0:_b.value,lastName:null===(_c=form.get("lastName"))||void 0===_c?void 0:_c.value,email:null===(_d=form.get("email"))||void 0===_d?void 0:_d.value,message})}),(0,tap.b)(()=>{this.displayGlobalMessage(),this.redirectToLogin(),form.reset()}))}}__name(UserRegistrationFormService,"UserRegistrationFormService"),UserRegistrationFormService.\u0275fac=__name(function(t){return new(t||UserRegistrationFormService)(core.LFG(spartacus_user_profile_root.zm),core.LFG(spartacus_core.kFJ),core.LFG(spartacus_organization_user_registration_root._n),core.LFG(spartacus_core.D7D),core.LFG(spartacus_core.IWp),core.LFG(spartacus_core.dSP),core.LFG(spartacus_core.Znh),core.LFG(fesm2015_forms.qu))},"UserRegistrationFormService_Factory"),UserRegistrationFormService.\u0275prov=core.Yz7({token:UserRegistrationFormService,factory:UserRegistrationFormService.\u0275fac,providedIn:"root"});class UserRegistrationFormComponent{constructor(userRegistrationFormService){this.userRegistrationFormService=userRegistrationFormService,this.titles$=this.userRegistrationFormService.getTitles(),this.countries$=this.userRegistrationFormService.getCountries(),this.regions$=this.userRegistrationFormService.getRegions(),this.registerForm=this.userRegistrationFormService.form,this.isLoading$=new BehaviorSubject.X(!1),this.subscriptions=new Subscription.w}submit(){this.registerForm.valid?(this.isLoading$.next(!0),this.subscriptions.add(this.userRegistrationFormService.registerUser(this.registerForm).subscribe({complete:()=>this.isLoading$.next(!1),error:()=>this.isLoading$.next(!1)}))):this.registerForm.markAllAsTouched()}ngOnDestroy(){this.subscriptions.unsubscribe()}}__name(UserRegistrationFormComponent,"UserRegistrationFormComponent"),UserRegistrationFormComponent.\u0275fac=__name(function(t){return new(t||UserRegistrationFormComponent)(core.Y36(UserRegistrationFormService))},"UserRegistrationFormComponent_Factory"),UserRegistrationFormComponent.\u0275cmp=core.Xpm({type:UserRegistrationFormComponent,selectors:[["cx-user-registration-form"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],["role","status"],[3,"formGroup","ngSubmit"],[1,"label-content"],["formControlName","titleCode","bindLabel","name","bindValue","code",3,"searchable","clearable","items","placeholder","cxNgSelectA11y"],[1,"label-content","required"],["required","true","type","text","name","firstname","formControlName","firstName",1,"form-control",3,"placeholder"],[3,"control"],["required","true","type","text","name","lastname","formControlName","lastName",1,"form-control",3,"placeholder"],["required","true","type","email","name","email","formControlName","email",1,"form-control",3,"placeholder"],["formGroupName","country",4,"ngIf"],["type","text","formControlName","line1",1,"form-control",3,"placeholder"],["type","text","formControlName","line2",1,"form-control",3,"placeholder"],["type","text","formControlName","town",1,"form-control",3,"placeholder"],["type","text","formControlName","postalCode",1,"form-control",3,"placeholder"],["formGroupName","region",4,"ngIf"],["type","tel","formControlName","phoneNumber",1,"form-control",3,"placeholder"],["formControlName","message","rows","5",1,"form-control",3,"placeholder"],["type","submit",1,"btn","btn-block","btn-primary"],[1,"cx-login-link","btn-link",3,"routerLink"],["formGroupName","country"],[4,"ngIf"],["id","country-select","formControlName","isocode","bindLabel","name","bindValue","isocode",1,"country-select",3,"searchable","clearable","items","placeholder","cxNgSelectA11y"],["formGroupName","region"],["formControlName","isocode","bindLabel","name","bindValue","isocode","id","region-select",1,"region-select",3,"searchable","clearable","items","placeholder","cxNgSelectA11y"],[1,"cx-spinner"]],template:__name(function(rf,ctx){if(1&rf&&(core.YNc(0,UserRegistrationFormComponent_section_0_Template,86,99,"section",0),core.ALo(1,"async"),core.YNc(2,UserRegistrationFormComponent_ng_template_2_Template,2,0,"ng-template",null,1,core.W1O)),2&rf){const _r1=core.MAs(3);core.Q6J("ngIf",!core.lcZ(1,2,ctx.isLoading$))("ngIfElse",_r1)}},"UserRegistrationFormComponent_Template"),dependencies:[common.O5,fesm2015_forms._Y,fesm2015_forms.Fj,fesm2015_forms.JJ,fesm2015_forms.JL,fesm2015_forms.Q7,fesm2015_forms.sg,fesm2015_forms.u,fesm2015_forms.x0,router.yS,spartacus_storefront.ORR,spartacus_storefront.Ahv,ng_select_ng_select.w9,spartacus_storefront.VnX,common.Ov,spartacus_core.l2T,spartacus_core.X$D],encapsulation:2,changeDetection:0});class UserRegistrationFormModule{}__name(UserRegistrationFormModule,"UserRegistrationFormModule"),UserRegistrationFormModule.\u0275fac=__name(function(t){return new(t||UserRegistrationFormModule)},"UserRegistrationFormModule_Factory"),UserRegistrationFormModule.\u0275mod=core.oAB({type:UserRegistrationFormModule}),UserRegistrationFormModule.\u0275inj=core.cJS({providers:[UserRegistrationFormService],imports:[common.ez,fesm2015_forms.UX,router.Bz,spartacus_core.bhT,spartacus_core.LUR,spartacus_storefront.Fme,spartacus_storefront.Fym,ng_select_ng_select.A0,spartacus_storefront.LcC,spartacus_core.pEA.withConfig({cmsComponents:{OrganizationUserRegistrationComponent:{component:UserRegistrationFormComponent,guards:[spartacus_core.aOY]}}})]});class UserRegistrationComponentsModule{}__name(UserRegistrationComponentsModule,"UserRegistrationComponentsModule"),UserRegistrationComponentsModule.\u0275fac=__name(function(t){return new(t||UserRegistrationComponentsModule)},"UserRegistrationComponentsModule_Factory"),UserRegistrationComponentsModule.\u0275mod=core.oAB({type:UserRegistrationComponentsModule}),UserRegistrationComponentsModule.\u0275inj=core.cJS({imports:[router.Bz,UserRegistrationFormModule]});const ORGANIZATION_USER_REGISTRATION_SERIALIZER=new core.OlP("OrganizationUserRegistrationSerializer");class UserRegistrationAdapter{}__name(UserRegistrationAdapter,"UserRegistrationAdapter");class UserRegistrationConnector{constructor(adapter){this.adapter=adapter}registerUser(userData){return this.adapter.registerUser(userData)}}__name(UserRegistrationConnector,"UserRegistrationConnector"),UserRegistrationConnector.\u0275fac=__name(function(t){return new(t||UserRegistrationConnector)(core.LFG(UserRegistrationAdapter))},"UserRegistrationConnector_Factory"),UserRegistrationConnector.\u0275prov=core.Yz7({token:UserRegistrationConnector,factory:UserRegistrationConnector.\u0275fac});class UserRegistrationService{constructor(userRegistrationConnector,command){this.userRegistrationConnector=userRegistrationConnector,this.command=command,this.registerOrganizationUserCommand=this.command.create(payload=>this.userRegistrationConnector.registerUser(payload.userData))}registerUser(userData){return this.registerOrganizationUserCommand.execute({userData})}}__name(UserRegistrationService,"UserRegistrationService"),UserRegistrationService.\u0275fac=__name(function(t){return new(t||UserRegistrationService)(core.LFG(UserRegistrationConnector),core.LFG(spartacus_core.VDr))},"UserRegistrationService_Factory"),UserRegistrationService.\u0275prov=core.Yz7({token:UserRegistrationService,factory:UserRegistrationService.\u0275fac});const facadeProviders=[UserRegistrationService,{provide:spartacus_organization_user_registration_root._n,useExisting:UserRegistrationService}];class OrganizationUserRegistrationConflictHandler extends spartacus_core.kck{constructor(){super(...arguments),this.responseStatus=spartacus_core.sdw.CONFLICT}handleError(request,response){var _a;request&&(null===(_a=this.getErrors(response))||void 0===_a?void 0:_a.length)&&this.globalMessageService.add({key:"userRegistrationForm.httpHandlers.conflict"},spartacus_core.xUg.MSG_TYPE_ERROR)}getErrors(response){var _a;return(null===(_a=response.error)||void 0===_a?void 0:_a.errors).filter(error=>"AlreadyExistsError"===(null==error?void 0:error.type))}getPriority(){return 0}}__name(OrganizationUserRegistrationConflictHandler,"OrganizationUserRegistrationConflictHandler"),OrganizationUserRegistrationConflictHandler.\u0275fac=function(){let \u0275OrganizationUserRegistrationConflictHandler_BaseFactory;return __name(function(t){return(\u0275OrganizationUserRegistrationConflictHandler_BaseFactory||(\u0275OrganizationUserRegistrationConflictHandler_BaseFactory=core.n5z(OrganizationUserRegistrationConflictHandler)))(t||OrganizationUserRegistrationConflictHandler)},"OrganizationUserRegistrationConflictHandler_Factory")}(),OrganizationUserRegistrationConflictHandler.\u0275prov=core.Yz7({token:OrganizationUserRegistrationConflictHandler,factory:OrganizationUserRegistrationConflictHandler.\u0275fac,providedIn:"root"});class UserRegistrationCoreModule{static forRoot(){return{ngModule:UserRegistrationCoreModule,providers:[...facadeProviders,UserRegistrationConnector,{provide:spartacus_core.kck,useExisting:OrganizationUserRegistrationConflictHandler,multi:!0}]}}}__name(UserRegistrationCoreModule,"UserRegistrationCoreModule"),UserRegistrationCoreModule.\u0275fac=__name(function(t){return new(t||UserRegistrationCoreModule)},"UserRegistrationCoreModule_Factory"),UserRegistrationCoreModule.\u0275mod=core.oAB({type:UserRegistrationCoreModule}),UserRegistrationCoreModule.\u0275inj=core.cJS({});var http=__webpack_require__(520),throwError=__webpack_require__(1737),catchError=__webpack_require__(7221);class OccUserRegistrationAdapter{constructor(http2,occEndpoints,converter){this.http=http2,this.occEndpoints=occEndpoints,this.converter=converter}registerUser(userData){const url=this.getOrganizationUserRegistrationEndpoint();let headers=new http.WM({"Content-Type":"application/json"});return headers=spartacus_core.Fox.createHeader(spartacus_core._Re,!0,headers),userData=this.converter.convert(userData,ORGANIZATION_USER_REGISTRATION_SERIALIZER),this.http.post(url,userData,{headers}).pipe((0,catchError.K)(error=>(0,throwError._)((0,spartacus_core.cxH)(error))))}getOrganizationUserRegistrationEndpoint(){return this.occEndpoints.buildUrl("organizationUserRegistration")}}__name(OccUserRegistrationAdapter,"OccUserRegistrationAdapter"),OccUserRegistrationAdapter.\u0275fac=__name(function(t){return new(t||OccUserRegistrationAdapter)(core.LFG(http.eN),core.LFG(spartacus_core.Lz0),core.LFG(spartacus_core.IXI))},"OccUserRegistrationAdapter_Factory"),OccUserRegistrationAdapter.\u0275prov=core.Yz7({token:OccUserRegistrationAdapter,factory:OccUserRegistrationAdapter.\u0275fac,providedIn:"root"});class UserRegistrationOccModule{}__name(UserRegistrationOccModule,"UserRegistrationOccModule"),UserRegistrationOccModule.\u0275fac=__name(function(t){return new(t||UserRegistrationOccModule)},"UserRegistrationOccModule_Factory"),UserRegistrationOccModule.\u0275mod=core.oAB({type:UserRegistrationOccModule}),UserRegistrationOccModule.\u0275inj=core.cJS({providers:[(0,spartacus_core.i51)({backend:{occ:{endpoints:{organizationUserRegistration:"/orgUsers"}}}}),{provide:UserRegistrationAdapter,useExisting:OccUserRegistrationAdapter}],imports:[common.ez]});class OrganizationUserRegistrationModule{}__name(OrganizationUserRegistrationModule,"OrganizationUserRegistrationModule"),OrganizationUserRegistrationModule.\u0275fac=__name(function(t){return new(t||OrganizationUserRegistrationModule)},"OrganizationUserRegistrationModule_Factory"),OrganizationUserRegistrationModule.\u0275mod=core.oAB({type:OrganizationUserRegistrationModule}),OrganizationUserRegistrationModule.\u0275inj=core.cJS({imports:[UserRegistrationCoreModule.forRoot(),UserRegistrationComponentsModule,UserRegistrationOccModule]})}};